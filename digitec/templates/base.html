<!DOCTYPE html>
{% load static i18n compress%}

{% load bootstrap4 %}
{% bootstrap_css %}
{% bootstrap_javascript jquery='full' %}



<html lang="en">

<head>
{% load bootstrap4 %}
{% bootstrap_css %}
{% bootstrap_javascript jquery='full' %}
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>{% block title %}Digitec{% endblock title %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->

  <link rel="icon" href="{% static 'images/favicons/favicon.ico' %}">

  {% block css %}

  <!-- Latest compiled and minified Bootstrap 4.1.1 CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"
    integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="{% static 'css/normalize.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'css/skeleton.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'css/base.style.css' %}">

  <script src="{% static 'js/reconnecting-websocket.js' %}"></script>
  <!-- Font Awesome JS -->
  <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js"
    integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ"
    crossorigin="anonymous"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js"
    integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY"
    crossorigin="anonymous"></script>


  <!-- Your stuff: Third-party CSS libraries go here -->
  {% compress css %}
  <!-- This file stores project-specific CSS -->

  <link href="{% static 'css/project.css' %}" rel="stylesheet" type="text/css">
  <link rel="stylesheet" type="text/css" href="{% static 'css/app.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'css/new.css' %}">

  {% endcompress %}
  {% endblock %}
  {% block css1 %}

  {% endblock %}
  <style type="text/css">
    /* body {
      background-color: rgb(230, 227, 222) !important;
    } */
    
  </style>
</head>

<body>

  <div class="container-fluid">
{% include "nav.html" %}
  </div>






  <div class="container-fluid" style="margin-top: 60px !important;">
    <div id="mySidenav" class="sidenav" style="right:0 !important;">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
      <!-- <a href="#">About</a>
      <a href="#">Services</a>
      <a href="#">Clients</a>
      <a href="#">Contact</a> -->
      <a href="{% url 'machine:call_list_status' status='unassigned' %}" class="notification">
        <span>unassigned</span>
        <span class="badge" id='unassigned'></span>
      </a>
      <a href="{% url 'machine:call_list_status'  status='dispatched' %}" class="notification">
        <span>dispatched</span>
        <span class="badge" id='dispatched'></span>
      </a>
      <a href="{% url 'machine:call_list_status' status='incomplete'  %}" class="notification">
        <span>incomplete</span>
        <span class="badge" id='incomplete'></span>
      </a>
      <a href="{% url 'machine:call_list_status' status='completed' %}" class="notification">
        <span>complete</span>
        <span class="badge" id='complete'></span>
      </a>
    </div>
    <div class='row'>
      <div class='col-2' style='width: 100% !important; padding: 0px; margin: 0px;'>
        <div class="wrapper">
          <!-- Sidebar -->
          {% if request.user.is_authenticated %}
          {% if request.user.is_superuser %}
          <nav id="sidebar" class="collapse navbar-collapse">
            <!-- <div class="sidebar-header">
                  <h5>Bootstrap Sidebar</h5>
              </div> -->

            <ul class="list-unstyled components">
              <p>{{request.user|capfirst}}</p>
              <li class="{% if request.path == '/machine' %} active{% endif %}">
                <a href="#machineSubmenu" data-toggle="collapse" aria-expanded="false"
                  class="dropdown-toggle">Machine</a>
                <ul class="collapse list-unstyled ml-0" id="machineSubmenu">
                  <li>
                    <a href="{% url 'machine:list'  %}">Machine List</a>
                  </li>
                  <li>
                    <a href="{% url 'machine:create'  %}">Machine Create</a>
                  </li>
                  <li>
                    <a href="{% url 'machine:machine_manage'  %}">Machinee Create Update</a>
                  </li>
                </ul>
              </li>

              <li>
                <a href="#callSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Call</a>
                <ul class="collapse list-unstyled ml-0" id="callSubmenu">
                  <li>
                    <a href="{% url 'machine:call_list'  %}">Call List</a>
                  </li>
                  <li>
                    <a href="{% url 'machine:call_create'  %}">Create Call</a>
                  </li>
                  <li>
                    <a href="{% url 'machine:call_manage' %}">Create Update Call</a>
                  </li>
                </ul>
              </li>
              <li>
                <a href="#customerSubmenu" data-toggle="collapse" aria-expanded="false"
                  class="dropdown-toggle">Customer</a>
                <ul class="collapse list-unstyled ml-0" id="customerSubmenu">
                  <li>
                    <a href="{% url 'customer:customer-list' %}">Customer List</a>
                  </li>
                  <li>
                    <a href="{% url 'customer:customer-create' %}">Create Customer</a>
                  </li>
                  <li>
                    <a href="{% url 'customer:department-create' %}">Create Department</a>
                  </li>
                  <li>
                    <a href="#">Create Update Customer</a>
                  </li>
                </ul>
              </li>
              <li>
                <a href="#engineerSubmenu" data-toggle="collapse" aria-expanded="false"
                  class="dropdown-toggle">Engineer</a>
                <ul class="collapse list-unstyled ml-0" id="engineerSubmenu">

                  <li>
                    <a href="{% url 'engineer:engineer_create'  %}">Create Engineer</a>
                  </li>
                  <li>
                    <a href="{% url 'engineer:engineer_review_create'  %}">Create Review</a>
                  </li>
                  <li>
                    <a href="{% url 'engineer:area_create'%}">Create department</a>
                  </li>
                </ul>
              </li>
              <li>
                <a href="#reportSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Report</a>
                <ul class="collapse list-unstyled ml-0" id="reportSubmenu">
                  <li>
                    <a href="{% url 'machine:report_list'  %}">Report List</a>
                  </li>
                  <li>
                    <a href="{% url 'machine:create_report'  %}">Create Report</a>
                  </li>
                  <!-- <li>
                    <a href="{% url 'engineer:engineer_review_create'  %}">Create Review</a>
                  </li> -->
                </ul>
              </li>
              <li>

                <a href="/">Home</a>
              </li>
              <li>
                <a href="/contact-us/">Contact</a>
              </li>
              <li>
                <a href="/about/">About</a>
              </li>

              <li>
                <a href="#">Portfolio</a>
              </li>

            </ul>
          </nav>
          {% elif request.user.engineer%}
          <nav id="sidebar" class="collapse navbar-collapse">
            <!-- <div class="sidebar-header">
                  <h5>Bootstrap Sidebar</h5>
              </div> -->

            <ul class="list-unstyled components">
              <p>{{request.user|capfirst}}({{request.user.engineer.name}})</p>
              <li class="{% if request.path == '/machine' %} active{% endif %}">
                <a href="#machineSubmenu" data-toggle="collapse" aria-expanded="false"
                  class="dropdown-toggle">Machine</a>
                <ul class="collapse list-unstyled ml-0" id="machineSubmenu">
                  <li>
                    <a href="{% url 'machine:list'  %}">Machine List</a>
                  </li>
                  <!-- <li>
                            <a href="#">Machine Create</a>
                        </li>
                        <li>
                            <a href="#">Machinee Create Update</a>
                        </li> -->
                </ul>
              </li>

              <li>
                <a href="#callSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Call</a>
                <ul class="collapse list-unstyled ml-0" id="callSubmenu">
                  <li>
                    <a href="{% url 'machine:call_list'  %}">Call List</a>
                  </li>
                  <!-- <li>
                              <a href="#">Create Call</a>
                          </li>
                          <li>
                              <a href="#">Create Update Call</a>
                          </li> -->
                </ul>
              </li>
              <li>
                <a href="#customerSubmenu" data-toggle="collapse" aria-expanded="false"
                  class="dropdown-toggle">Customer</a>
                <ul class="collapse list-unstyled ml-0" id="customerSubmenu">
                  <li>
                    <a href="{% url 'customer:customer-list'  %}">Customer List</a>
                  </li>
                  <!-- <li>
                            <a href="#">Create Customer</a>
                        </li>
                        <li>
                            <a href="#">Create Department</a>
                        </li>
                        <li>
                          <a href="#">Create Update Customer</a>
                      </li> -->
                </ul>
              </li>
              <li>
                <a href="#engineerSubmenu" data-toggle="collapse" aria-expanded="false"
                  class="dropdown-toggle">Engineer</a>
                <ul class="collapse list-unstyled ml-0" id="engineerSubmenu">
                  <!-- <li>
                          <a href="{% url 'engineer:engineer_create'  %}">Engineer List</a>
                      </li> -->
                  <!-- <li>
                          <a href="#">Create Engineer</a>
                      </li> -->
                  <li>
                    <a href="{% url 'engineer:engineer_review_create'  %}">Create Review</a>
                  </li>
                </ul>
              </li>
              <li>
                <a href="#reportSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Report</a>
                <ul class="collapse list-unstyled ml-0" id="reportSubmenu">
                  <li>
                    <a href="{% url 'machine:report_list'  %}">Report List</a>
                  </li>
                  <li>
                    <a href="{% url 'machine:create_report'  %}">Create Report</a>
                  </li>
                  <!-- <li>
                    <a href="{% url 'engineer:engineer_review_create'  %}">Create Review</a>
                  </li> -->
                </ul>
              </li>
              <li>
                <a href="/">Home</a>
              </li>
              <li>
                <a href="/contact-us/">Contact</a>
              </li>
              <li>
                <a hr ef="/about/">About</a>
              </li>

              <li>
                <a href="#">Portfolio</a>
              </li>

            </ul>
          </nav>
          {% endif %}
          {% else %}
          <nav id="sidebar" class="collapse navbar-collapse">
            <!-- <div class="sidebar-header">
                <h5>Bootstrap Sidebar</h5>
            </div> -->

            <ul class="list-unstyled components">
              <p>Welcome..</p>
              <!-- <li class="{% if request.path == '/machine' %} active{% endif %}">
                  <a href="#machineSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Machine</a>
                  <ul class="collapse list-unstyled ml-0" id="machineSubmenu">
                      <li>
                          <a href="#">Machine List</a>
                      </li>
                      <li>
                          <a href="#">Machine Create</a>
                      </li>
                      <li>
                          <a href="#">Machinee Create Update</a>
                      </li>
                  </ul>
              </li>
              
                <li>
                    <a href="#callSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Call</a>
                    <ul class="collapse list-unstyled ml-0" id="callSubmenu">
                        <li>
                            <a href="#">Call List</a>
                        </li>
                        <li>
                            <a href="#">Create Call</a>
                        </li>
                        <li>
                            <a href="#">Create Update Call</a>
                        </li>
                    </ul>
                </li>
                <li>
                  <a href="#customerSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Customer</a>
                  <ul class="collapse list-unstyled ml-0" id="customerSubmenu">
                      <li>
                          <a href="#">Customer List</a>
                      </li>
                      <li>
                          <a href="#">Create Customer</a>
                      </li>
                      <li>
                          <a href="#">Create Department</a>
                      </li>
                      <li>
                        <a href="#">Create Update Customer</a>
                    </li>
                  </ul>
              </li>
              <li>
                <a href="#engineerSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Engineer</a>
                <ul class="collapse list-unstyled ml-0" id="engineerSubmenu">
                    <li>
                        <a href="#">Engineer List</a>
                    </li>
                    <li>
                        <a href="#">Create Engineer</a>
                    </li>
                    <li>
                        <a href="#">Create Review</a>
                    </li>
                </ul>
            </li> -->
              <li>
                <a href="/">Home</a>
              </li>
              <li>
                <a href="/contact-us/">Contact</a>
              </li>
              <li>
                <a href="/about/">About</a>
              </li>

              <li>
                <a href="#">Portfolio</a>
              </li>

            </ul>
          </nav>
          {% endif %}


        </div>
      </div>
      <div class='col-10' id='main' style="width: 100% !important;padding: 10px;margin: 0px;">
        <button type="button" id="sidebarCollapse" class="navbar-toggler navbar-toggler-right btn btn-outline-danger"
          type="button" data-toggle="collapse" data-target="#sidebar" aria-controls="sidebar" aria-expanded="true"
          aria-label="Toggle navigation">
          <i class="fa fa-align-right"></i>
          <span>Toggle Sidebar</span>
        </button>
        <button type="button" class="btn btn-outline-danger nott" onclick="openNav()" ondblclick="closeNave()">toggle
          notification</button>

        {% if user.is_authenticated %}
        {% block heading %}
        <div class="container-fluid ">
          it is {% now "jS F Y H:i" %}
          <br>

          <div class='row'>
            <!-- <div class="col-12">
              <div class="btn-group" role="group" aria-label="Nested Button Group">
                <a class="btn btn-warning"  href="{% url 'machine:call_list'  %}">CALL LIST</a>
                <a class="btn btn-warning" href="{% url 'engineer:engineer_review_create'  %}">CREATE REVIEW</a> -->

            <!-- <button type="button" class="btn btn-primary">Button 1</button>
                <button type="button" class="btn btn-info">Button 2</button> -->


            <!-- <div class="btn-group" role="group">
                    <button id="nested1" type="button" class="btn btn-warning dropdown-toggle" data-toggle="dropdown"
                      aria-haspopup="true" aria-expanded="false">
                      Machine
                    </button>
                    <div class="dropdown-menu" aria-labelledby="nested1">
                      <a class="btn btn-primary machine-create" style="width: 100% !important;height: 100% !important; margin:0px !important;"
                        href="{% url 'machine:list'  %}">Machine list</a>
      
                      <div class="dropdown-divider"></div>
                      <a class="btn btn-primary machine-create" style="width: 100% !important;height: 100% !important;margin:0px !important;" href="{% url 'machine:create'  %}">Create Machine</a>
                      <div class="dropdown-divider"></div>
    
                      <a class="btn btn-primary machine-create" style="width: 100% !important;height: 100% !important;margin:0px !important;" href="{% url 'machine:machine_manage'  %}">Create/Update machine</a>
    
      
                    </div>
                    <div class="btn-group" role="group">
                      <button id="nested1" type="button" class="btn btn-warning dropdown-toggle" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        Call
                      </button>
                      <div class="dropdown-menu" aria-labelledby="nested1">
                        <a class="btn btn-primary machine-create" style="width: 100% !important;height: 100% !important;margin:0px !important;"
                          href="{% url 'machine:call_list'  %}">Call list</a>
        
                        <div class="dropdown-divider"></div>
                        <a class="btn btn-primary machine-create" style="width: 100% !important;height: 100% !important;margin:0px !important; margin:0px !important;" href="{% url 'machine:call_create'  %}">Create Call</a>
                        <div class="dropdown-divider"></div>
    
                        <a class="btn btn-primary machine-create" style="width: 100% !important;height: 100% !important;margin:0px !important;" href="{% url 'machine:call_manage'  %}">Create/update call </a>
    
        
                      </div>
                    </div>
                    <div class="btn-group" role="group">
                      <button id="nested1" type="button" class="btn btn-warning dropdown-toggle" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        Engineer
                      </button>
                      <div class="dropdown-menu" aria-labelledby="nested1">
                        
                        <a class="btn btn-primary machine-create" style="width: 100% !important;height: 100% !important;margin:0px !important;" href="{% url 'engineer:engineer_create'  %}">Create Engineer</a>
    
    
        
                      </div>
                    </div>
                <div class="btn-group" role="group">
                  <button id="nested1" type="button" class="btn btn-warning dropdown-toggle" data-toggle="dropdown"
                    aria-haspopup="true" aria-expanded="false">
                    Customers
                  </button>
                  <div class="dropdown-menu" aria-labelledby="nested1">
                    <a class="btn btn-primary machine-create" style="width: 100% !important;height: 100% !important;margin:0px !important;"
                      href="{% url 'customer:customer-list'  %}">Customer list</a>
                    <div class="dropdown-divider"></div>
                    <a class="btn btn-primary machine-create" style="width: 100% !important;height: 100% !important; margin:0px !important;"
                      href="{% url 'customer:customer-create'  %}">Create Customer</a>
                    <div class="dropdown-divider"></div>
    
                    <a class="btn btn-primary machine-create" style="width: 100% !important;height: 100% !important; margin:0px !important;"
                      href="{% url 'customer:department-create'  %}">Create department</a>
                  </div>
                </div>
              </div>
              
            </div> -->

            <!-- <div class='col-12 m-auto text-center'> -->

            <!-- {% if request.user.is_superuser %}
              <a class="btn btn-primary machine-create" href="{% url 'machine:call_create'  %}">Create Call</a>
    
              <a class="btn btn-primary machine-create" href="{% url 'machine:call_manage'  %}">create call with contacts</a>
              {% endif %}
    
    
    
    
              <a class="btn btn-primary machine-create" href="{% url 'machine:call_list'  %}">Call List</a>
              <a class="btn btn-primary machine-create" href="{% url 'engineer:engineer_review_create'  %}">Create
                review</a> -->
{% block searchbox %}
            <div class='col-10 offset-1'>
              <div
                style='border-radius: 5px; border: 2px solid rgb(190, 66, 66); padding: 20px 10px;margin-bottom: 5px;'>
                <h5 class='text-center'>Search section</h5>
                <div style="display: flex;flex-direction: column; justify-content: center;align-content: center;">
                  <div class='form-group'
                    style='display:flex; flex-direction: row;margin-top: 1rem;font-size: small;flex:0.4;'>
                    <div style='flex: 33%;'>
                      <div class='d-inline-block'>
                        <input form='m-form' id='name-id' type="radio" name='category' value="name" />

                      </div>
                      <label class='d-inline-block' for='name-id'>Name</label>

                    </div>


                    <div style='flex: 33%;'>
                      <div class='d-inline-block'>
                        <input form='m-form' id='customer-id' type="radio" name='category' value="customer" />

                      </div>
                      <label class='d-inline-block' for='customer-id'>Customer</label>

                    </div>


                    <div style='flex: 33%;'>
                      <div class='d-inline-block'>
                        <input form='m-form' id='serial-id' type="radio" name='category' value="serial" />

                      </div>
                      <label class='d-inline-block' for='serial-id'>Serial</label>

                    </div>
                  </div>

                  <!--                 
                
                
                <div class="d-inline-block bg-gray"
                  style="box-sizing: border-box;margin:10px 0px 100px 0px;height: 44px;padding:0px 5px;">
                  <form id='m-form' method="GET" action="{% url 'machine:machine_list_custom' %}" class='from'>
                    
                      <div style='flex:0.4 !important'>
                        <input type="text" name="q
                        uery" />
                      </div>
                      <div style="flex:0.2 !important;">
                        <button type="submit" class="btn btn-primary" style="width:100%;">
                          search for machines
                        </button>
                      </div>
                      

                  
                  </form>
                </div> -->

                  <div>
                    <form class="form" id='m-form' method="GET" action="{% url 'machine:machine_list_custom' %}">
                      <div class='form-group'>
                        <input class="form-control mr-1" type="search" placeholder="Search" aria-label="Search"
                          name="query">
                        <button class="btn btn-outline-success" type="submit">Search Machine/s</button>
                      </div>

                    </form>
                  </div>

                  <div>
                    <form class="form" action="{% url 'customer:customer-list' %}" method="GET">
                      <div class='form-group'>
                        <input class="form-control mr-1" type="search" placeholder="Search" aria-label="Search"
                          name="q">
                        <button class="btn btn-outline-success" type="submit">Search Customer/s</button>
                      </div>

                    </form>
                  </div>

                </div>
              </div>
            </div>

{% endblock searchbox %}
            <div style="width:100%; border-bottom: 3px solid red;margin: 10px 0px;">

            </div>
            <p id='webid'></p>
            <div
              style="width:100%; border-top: 3px solid red; margin-top: 0px !important;margin-bottom: 20px !important;">
            </div>
          </div>
          {% endblock heading %}

          {% endif %}



          {% if messages %}
          {% for message in messages %}
          <div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %}">{{ message }}</div>
          {% endfor %}
          {% endif %}
          <!-- <div style="width:20%; height: 20%; background-color: aqua;"> -->
          <!-- <div style="width: 30%;height: 30%; border-radius: 50%; background-color: red;"> -->
          <!-- <p id='unassigned' style="color: black;"> -->

          <!-- </p> -->
          <!-- </div> -->
          <!-- <div style="width: 30%;height: 30%; border-radius: 50%; background-color: red;">

            </div>
            <div style="width: 30%;height: 30%; border-radius: 50%; background-color: red;">

            </div> -->
          <!-- </div> -->
          {% block content %}

          {% endblock content %}
          <!-- /container -->

          <div class="container-fluid" style="box-sizing: border-box !important;">
            <div class="row">
              <script>
                console.log('iam here')
                let url = 'ws://' + window.location.host + `/machine/list1/`
                const websocket = new ReconnectingWebSocket(url)
                websocket.onopen = (event) => {
                  console.log('connection oppened')
                  console.log('type of event', event.type)
                  websocket.send('hello')
                  console.log('message is sent from customer')
                }
                websocket.onmessage = (strr) => {



                  console.log('event ', strr)
                  if (strr['data'].startsWith('s')) {
                    console.log('script base websocket receive')
                    const strmodified = strr['data'].substring(1)
                    const nu = parseInt(strmodified)
                    let u = document.getElementById('unassigned')

                    let text = document.createTextNode(strmodified)
                    u.innerText = nu

                    console.log(nu, 'nuuuuuuuuuuuuuuuuuuuuuuu')
                  }
                  else if (strr['data'].startsWith('d')) {
                    console.log('script base websocket receive')
                    const strmodified = strr['data'].substring(1)
                    const nu = parseInt(strmodified)
                    let u = document.getElementById('dispatched')

                    let text = document.createTextNode(strmodified)
                    u.innerText = nu

                    console.log(nu, 'nuuuuuuuuuuuuuuuuuuuuuuu')
                  }
                  else if (strr['data'].startsWith('i')) {
                    console.log('script base websocket receive')
                    const strmodified = strr['data'].substring(1)
                    const nu = parseInt(strmodified)
                    let u = document.getElementById('incomplete')

                    let text = document.createTextNode(strmodified)
                    u.innerText = nu

                    console.log(nu, 'nuuuuuuuuuuuuuuuuuuuuuuu')
                  }
                  else if (strr['data'].startsWith('c')) {
                    console.log('script base websocket receive')
                    const strmodified = strr['data'].substring(1)
                    const nu = parseInt(strmodified)
                    let u = document.getElementById('complete')

                    // let text = document.createTextNode(strmodified)
                    u.innerText = nu

                    console.log(nu, 'nuuuuuuuuuuuuuuuuuuuuuuu')
                  }
                  else {
                    let b = document.getElementById('webid')
                    let l = document.createElement('li')
                    let text = document.createTextNode(strr['data'])
                    b.innerText = strr['data']

                  }

                  // setInterval(()=>(1), 10000)
                  // console.log('1')
                  // setTimeout(()=>(1),1000)
                  // text = document.createTextNode('')
                  // b.appendChild(text)
                  // b.innerText = strr
                  // websocket.onopen()
                  // websocket.send(data=strr['data'])
                  // console.log('message is sent again')
                }
                websocket.onclose = () => {


                  console.log('connection closed')

                }

                if (websocket.readyState === WebSocket.OPEN) {

                }

                const comp = document.getElementById(sidebar)
                // comp.addEventListener()
                let isOpened = true;
                document.getElementById("main").style.marginRight = "150px";
                function openNav() {

                  if (isOpened === false) {
                    document.getElementById("mySidenav").style.width = "150px";
                    document.getElementById("main").style.marginRight = "150px";
                    isOpened = true;
                  }
                  else if (isOpened == true) {
                    document.getElementById("mySidenav").style.width = "0";
                    document.getElementById("main").style.marginRight = "0";
                    isOpened = false;
                  }
                  // document.getElementById("mySidenav").style.width = "250px";
                  // document.getElementById("main").style.marginLeft = "250px";
                }

                /* Set the width of the side navigation to 0 and the left margin of the page content to 0 */
                function closeNav() {
                  document.getElementById("mySidenav").style.width = "0";
                  document.getElementById("main").style.marginRight = "0";
                }
                function openNav2() {

if (isOpened === false) {
  document.getElementById("sidebar").style.width = "150px";
  document.getElementById("main").style.marginRight = "150px";
  isOpened = true;
}
else if (isOpened == true) {
  document.getElementById("sidebar").style.width = "0";
  document.getElementById("main").style.marginRight = "0";
  isOpened = false;
}
// document.getElementById("mySidenav").style.width = "250px";
// document.getElementById("main").style.marginLeft = "250px";
}

/* Set the width of the side navigation to 0 and the left margin of the page content to 0 */
function closeNav2() {
document.getElementById("sidebar").style.width = "0";
document.getElementById("main").style.marginRight = "0";
}
              </script>

            </div>
            <div class="row">
              <div class="col-9" style="width: fit-content;">
                {% block main %}


                {% endblock main %}
              </div>
              <div class="col-3 border-left">
                {% block sidebar%}

                {% endblock %}
              </div>
            </div>
          </div>
        </div>



      </div>

    </div>
  </div>


  <!-- Le javascript
    ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  {% block javascript %}

  <!-- Required by Bootstrap v4.1.1 -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
    integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"
    integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
    crossorigin="anonymous"></script>
  <script src="{% static 'js/reconnecting-websocket.js' %}"></script>

  <!-- Your stuff: Third-party javascript libraries go here -->


  <!-- place project specific Javascript in this file -->
  {% compress js %}
  <script src="{% static 'js/project.js' %}"></script>
  {% endcompress %}

  {% endblock javascript %}
  {% block script %}

  {% endblock %}
</body>

</html>